@page
@model LocationTracker.Pages.Overview.IndexModel

@{
    ViewData["Title"] = "Overview";
}
<canvas id="mapid"></canvas>
<h2>Overview</h2>

<div>
    <h4>
        @Html.DisplayNameFor(Model => Model.OverviewIndexVM.LocationsTotal):
        @Html.DisplayFor(Model => Model.OverviewIndexVM.LocationsTotal)
    </h4>
</div>
<div>
    <h4>
        @Html.DisplayNameFor(@Model => Model.OverviewIndexVM.StudiesTotal):
        @Html.DisplayFor(Model => Model.OverviewIndexVM.StudiesTotal)
    </h4>
</div>

<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.OverviewIndexVM.OverviewDivisionLocationsIndexVM[0].DivisionName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.OverviewIndexVM.OverviewDivisionLocationsIndexVM[0].DivisionTotal)
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.OverviewIndexVM.OverviewDivisionLocationsIndexVM)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.DivisionName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DivisionTotal)
                </td>
            </tr>
        }
    </tbody>
</table>

@section Scripts
{
<script type="text/javascript">
    $(document).ready(
        function () {
            var map = L.map('mapid').setView([51.505, -0.09], 13);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                maxZoom: 18,
                id: '',
                accessToken: ''
            }).addTo(map);
        });
</script>
}

